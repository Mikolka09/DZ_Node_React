<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords"
          content="wrappixel, admin dashboard, html css dashboard, web dashboard, bootstrap 5 admin, bootstrap 5, css3 dashboard, bootstrap 5 dashboard, Flexy lite admin bootstrap 5 dashboard, frontend, responsive bootstrap 5 admin template, Flexy admin lite design, Flexy admin lite dashboard bootstrap 5 dashboard template">
    <meta name="description"
          content="Flexy Admin Lite is powerful and clean admin dashboard template, inpired from Bootstrap Framework">
    <meta name="robots" content="noindex,nofollow">
    <title>Admin Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="canonical" href="https://www.wrappixel.com/templates/Flexy-admin-lite/"/>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="../admin/assets/images/favicon.png">
    <!-- Custom CSS -->
    <link href="../admin/dist/css/style.min.css" rel="stylesheet">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
<!-- ============================================================== -->
<!-- Preloader - style you can find in spinners.css -->
<!-- ============================================================== -->
<div class="preloader">
    <div class="lds-ripple">
        <div class="lds-pos"></div>
        <div class="lds-pos"></div>
    </div>
</div>
<!-- ============================================================== -->
<!-- Main wrapper - style you can find in pages.scss -->
<!-- ============================================================== -->
<div id="main-wrapper" data-layout="vertical" data-navbarbg="skin5" data-sidebartype="full"
     data-sidebar-position="absolute" data-header-position="absolute" data-boxed-layout="full">
    <!-- ============================================================== -->
    <!-- Topbar header - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <header class="topbar" data-navbarbg="skin6">
        <nav class="navbar top-navbar navbar-expand-md navbar-light">
            <div class="navbar-header" data-logobg="skin6">
                <!-- ============================================================== -->
                <!-- Logo -->
                <!-- ============================================================== -->
                <a class="navbar-brand" href="../index.html">
                    <!-- Logo icon -->
                    <b class="logo-icon">
                        <!--You can put here icon as well // <i class="wi wi-sunset"></i> //-->
                        <!-- Dark Logo icon -->
                        <img src="../storage/avatars/Admin.jpg" style="width: 50px;" alt="homepage" class="dark-logo"/>
                        <!-- Light Logo icon -->
                        <!--<img src="./storage/avatars/Admin.jpg"  alt="homepage" class="light-logo" />-->
                    </b>
                    <!--End Logo icon -->
                    <!-- Logo text -->
                    <span class="logo-text">
                            <!-- dark Logo text -->
                            <img src="../image/Logo.png" style="width: 120px;" alt="homepage" class="dark-logo"/>
                        <!-- Light Logo text -->
                        <!--<img src="./admin/assets/images/logo-light-text.png" class="light-logo" alt="homepage" />-->
                        </span>
                </a>
                <!-- ============================================================== -->
                <!-- End Logo -->
                <!-- ============================================================== -->
                <!-- This is for the sidebar toggle which is visible on mobile only -->
                <a class="nav-toggler waves-effect waves-light d-block d-md-none" href="javascript:void(0)"><i
                        class="ti-menu ti-close"></i></a>
            </div>
            <!-- ============================================================== -->
            <!-- End Logo -->
            <!-- ============================================================== -->
            <div class="navbar-collapse collapse" id="navbarSupportedContent" data-navbarbg="skin5">
                <!-- ============================================================== -->
                <!-- toggle and nav items -->
                <!-- ============================================================== -->
                <ul class="navbar-nav float-start me-auto">
                    <!-- ============================================================== -->
                    <!-- Search -->
                    <!-- ============================================================== -->
                    <li class="nav-item search-box"><a class="nav-link waves-effect waves-dark"
                                                       href="javascript:void(0)"><i class="mdi mdi-magnify me-1"></i>
                        <span class="font-16">Search</span></a>
                        <form class="app-search position-absolute">
                            <input type="text" class="form-control" placeholder="Search &amp; enter"> <a
                                class="srh-btn"><i class="mdi mdi-window-close"></i></a>
                        </form>
                    </li>
                </ul>
                <!-- ============================================================== -->
                <!-- Right side toggle and nav items -->
                <!-- ============================================================== -->
                <ul class="navbar-nav float-end">
                    <!-- ============================================================== -->
                    <!-- User profile and search -->
                    <!-- ============================================================== -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-muted waves-effect waves-dark pro-pic" href="#"
                           id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="../image/Logo_foto.png" alt="user" class="rounded-circle"
                                 width="31">
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end user-dd animated" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="javascript:void(0)"><i class="ti-user m-r-5 m-l-5"></i>
                                My Profile</a>
                            <a class="dropdown-item" href="javascript:void(0)"><i class="ti-wallet m-r-5 m-l-5"></i>
                                My Balance</a>
                            <a class="dropdown-item" href="javascript:void(0)"><i class="ti-email m-r-5 m-l-5"></i>
                                Inbox</a>
                        </ul>
                    </li>
                    <!-- ============================================================== -->
                    <!-- User profile and search -->
                    <!-- ============================================================== -->
                </ul>
            </div>
        </nav>
    </header>
    <!-- ============================================================== -->
    <!-- End Topbar header -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- Left Sidebar - style you can find in sidebar.scss  -->
    <!-- ============================================================== -->
    <aside class="left-sidebar" data-sidebarbg="skin6">
        <!-- Sidebar scroll-->
        <div class="scroll-sidebar">
            <!-- Sidebar navigation-->
            <nav class="sidebar-nav">
                <ul id="sidebarnav">
                    <li class="sidebar-item"><a class="sidebar-link waves-effect waves-dark sidebar-link"
                                                href="../index.html" aria-expanded="false"><i
                            class="mdi mdi-view-dashboard"></i><span
                            class="hide-menu">Dashboard</span></a></li>
                    <li class="sidebar-item"><a class="sidebar-link waves-effect waves-dark sidebar-link"
                                                href="pages-profile.html" aria-expanded="false"><i
                            class="mdi mdi-account-network"></i><span class="hide-menu">Profile</span></a></li>
                    <li class="sidebar-item"><a class="sidebar-link waves-effect waves-dark sidebar-link"
                                                href="users-basic.html" aria-expanded="false"><i
                            class="mdi mdi-border-all"></i><span
                            class="hide-menu">Users</span></a></li>
                    <li class="sidebar-item"><a class="sidebar-link waves-effect waves-dark sidebar-link"
                                                href="icon-material.html" aria-expanded="false"><i
                            class="mdi mdi-face"></i><span
                            class="hide-menu">Icon</span></a></li>
                    <li class="sidebar-item"><a class="sidebar-link waves-effect waves-dark sidebar-link"
                                                href="starter-kit.html" aria-expanded="false"><i
                            class="mdi mdi-file"></i><span
                            class="hide-menu">Blank</span></a></li>
                    <li class="sidebar-item"><a class="sidebar-link waves-effect waves-dark sidebar-link"
                                                href="error-404.html" aria-expanded="false"><i
                            class="mdi mdi-alert-outline"></i><span
                            class="hide-menu">404</span></a></li>
                </ul>

            </nav>
            <!-- End Sidebar navigation -->
        </div>
        <!-- End Sidebar scroll-->
    </aside>

    <!-- Modal Create -->
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
         aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bolder" id="staticBackdropLabel">Create User</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col">
                            <form class="needs-validation" name="userForm" enctype="multipart/form-data">
                                <div class="row">
                                    <div class="col">
                                        <div class="text-danger"></div>
                                        <div class="form-group">
                                            <label class="form-label" for="AvatarFile"></label><br/>
                                            <input class="form-control" id="AvatarFile" name="ImgAv" type="file"/>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="FirstName"></label><br/>
                                            <input class="form-control" type="text" placeholder="Иван" id="FirstName"
                                                   name="FirstName" required/>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="LastName"></label><br/>
                                            <input class="form-control" type="text" placeholder="Иванов" name="LastName"
                                                   id="LastName" required/>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="Login"></label><br/>
                                            <input class="form-control" type="text" placeholder="Ivan" name="Login"
                                                   id="Login" required/>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label class="form-label" for="Email"></label><br/>
                                            <input class="form-control" type="email" placeholder="ivan@mail.com"
                                                   id="Email" name="Email"
                                                   required/>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="Year"></label><br/>
                                            <input class="form-control" type="text" placeholder="1988" id="Year"
                                                   name="Year" required/>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="Password"></label><br/>
                                            <input class="form-control" type="password" placeholder="_Aa123456"
                                                   id="Password" name="Password" required/>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="PasswordConfirm"></label><br/>
                                            <input class="form-control" type="password" placeholder="_Aa123456"
                                                   id="PasswordConfirm" name="PasswordConfirm"
                                                   required/>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" id="btnSend" class="btn btn-primary" data-bs-dismiss="modal">Cerate</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Edit -->
    <div class="modal fade" id="staticBackdropEd" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-2"
         aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bolder" id="staticBackdropLabelEd">Edit User</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col">
                            <form class="needs-validation" name="userFormEd" enctype="multipart/form-data">
                                <div class="row">
                                    <div class="col">
                                        <div class="text-danger"></div>
                                        <div class="form-group">
                                            <label class="form-label" for="AvatarFile"></label><br/>
                                            <input class="form-control" id="AvatarFileEd" name="ImgAv"
                                                   type="file"/>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="FirstName"></label><br/>
                                            <input class="form-control" type="text" placeholder="Иван" id="FirstNameEd"
                                                   name="FirstName" required/>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="LastName"></label><br/>
                                            <input class="form-control" type="text" placeholder="Иванов" name="LastName"
                                                   id="LastNameEd" required/>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="Login"></label><br/>
                                            <input class="form-control" type="text" placeholder="Ivan" name="Login"
                                                   id="LoginEd" required/>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label class="form-label" for="Email"></label><br/>
                                            <input class="form-control" type="email" placeholder="ivan@mail.com"
                                                   id="EmailEd" name="Email"
                                                   required/>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="Year"></label><br/>
                                            <input class="form-control" type="text" placeholder="1988" id="YearEd"
                                                   name="Year" required/>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="Password"></label><br/>
                                            <input class="form-control" type="password" placeholder="_Aa123456"
                                                   id="PasswordEd" name="Password" required/>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="PasswordConfirm"></label><br/>
                                            <input class="form-control" type="password" placeholder="_Aa123456"
                                                   id="PasswordConfirmEd" name="PasswordConfirm"
                                                   required/>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" id="btnSendEd" class="btn btn-primary" data-bs-dismiss="modal">Save</button>
                </div>
            </div>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- End Left Sidebar - style you can find in sidebar.scss  -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- Page wrapper  -->
    <!-- ============================================================== -->
    <div class="page-wrapper">
        <!-- ============================================================== -->
        <!-- Bread crumb and right sidebar toggle -->
        <!-- ============================================================== -->
        <div class="page-breadcrumb">
            <div class="row align-items-center">
                <div class="col-6">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb mb-0 d-flex align-items-center">
                            <li class="breadcrumb-item"><a href="../index.html" class="link"><i
                                    class="mdi mdi-home-outline fs-4"></i></a></li>
                            <li class="breadcrumb-item active" aria-current="page">Users</li>
                        </ol>
                    </nav>
                    <h1 class="mb-0 fw-bold">Users</h1>
                </div>
            </div>
        </div>
        <!-- ============================================================== -->
        <!-- End Bread crumb and right sidebar toggle -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Container fluid  -->
        <!-- ============================================================== -->
        <div class="container-fluid">
            <!-- ============================================================== -->
            <!-- Start Page Content -->
            <!-- ============================================================== -->
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title">Users List</h4>
                            <p>
                                <a type="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop"
                                   class="btn btn-success">Create User</a>
                            </p>
                        </div>
                        <div id="tableUsers" class="table-responsive">
                            <table class="table table-striped table-light table-hover">

                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- End PAge Content -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Right sidebar -->
            <!-- ============================================================== -->
            <!-- .right-sidebar -->
            <!-- ============================================================== -->
            <!-- End Right sidebar -->
            <!-- ============================================================== -->
        </div>

        <script>
            let UsersList = new Array();

            function UrlImg(url) {
                return url;
            }

            // Процесс отсылки изображения:
            function sendImg(user) {
                let formData = new FormData(); // Объект для отправки файла
                formData.append("AvatarFile", document.getElementById("AvatarFile").files[0]); // файл
                console.log(formData);
                fetch('/api/media',
                    {
                        method: 'POST',
                        body: formData
                    })
                    .then(response => {
                        if (response.ok) {
                            console.log(response);
                            return response.text();
                        } else {
                            console.log(response.statusText);
                        }
                    })
                    .then(ImgAv => {
                        console.log(ImgAv);
                        user.ImgAv = ImgAv;
                    })
                    .catch(err => console.log(err));
                return user;
            }

            function sendEdit() {
                let user = UsersList.find(p => p._id === this._id);
                let form = document.getElementById("userFormEd");
                for (let i = 0; i < form.elements.length; i++) {
                    form.elements[i].value = user[i].value;
                }
                document.getElementById("btnSendEd").onclick = function () {
                    let form = document.forms.userForm;
                    let user = {};
                    let pass = "";
                    let passConf = "";
                    for (let i = 0; i < form.elements.length; i++) {
                        if (form.elements[i].name === "Password") pass = form.elements[i].value;
                        if (form.elements[i].name === "PasswordConfirm") passConf = form.elements[i].value;
                    }
                    if (pass !== passConf) {
                        alert("Пароли не сходятся, введите пароли снова!");
                    } else {
                        for (let i = 0; i < form.elements.length; i++) {
                            if (form.elements[i].name === "ImgAv") {
                                sendImg(user);
                                console.log(user.ImgAv);
                            }
                            if (form.elements[i].name === "Password") {
                                user[form.elements[i].name] = form.elements[i].value;
                                console.log(user.Pass);
                            }
                            if (form.elements[i].name !== "PasswordConfirm") {
                                user[form.elements[i].name] = form.elements[i].value;
                            }
                        }
                        user.DateReg = Date.now();
                        console.log(user);
                    fetch("/api/user", {
                        method: "PUT",
                        body: JSON.stringify(user),
                        headers: {'Content-Type': 'application/json'}
                    })
                        .then(res => res.json)
                        .then(json => {
                            UsersList.push(json);
                            buildListUsers();
                        })
                        .catch(err => {
                            if (err) console.log(err);
                        });
                }
                form.reset();
            }

            function sendDelete() {
                fetch("/api/user", {
                    method: "DELETE",
                    body: JSON.stringify({_id: this._id}),
                    headers: {'Content-Type': 'application/json'}
                })
                    .then(res => {
                        if (res.status === 200) {
                            console.log(UsersList.findIndex(s => s._id === this._id));
                            UsersList.splice(UsersList.findIndex(s => s._id === this._id));
                            buildListUsers();
                        } else {
                            console.log(res);
                        }
                    })
                    .catch(err => console.log(err));
            }

            function createButtonEdit() {
                let aEdit = document.createElement("a");
                aEdit.className = "btn btn-success btn-sm";
                aEdit.type = "button";
                aEdit.innerText = "Edit";
                aEdit.setAttribute("data-bs-toggle", "modal");
                aEdit.setAttribute("data-bs-target", "#staticBackdropEd");
                return aEdit;
            }

            function createButtonDelete() {
                let aDelete = document.createElement("a");
                aDelete.className = "btn btn-danger btn-sm";
                aDelete.type = "button";
                aDelete.innerText = "Delete";
                aDelete.onclick = sendDelete;
                return aDelete;
            }

            function createButtonDetail() {
                let aDetail = document.createElement("a");
                aDetail.className = "btn btn-info btn-sm mx-1";
                aDetail.type = "button";
                aDetail.innerText = "Detail";
                aDetail.setAttribute("data-bs-toggle", "modal");
                aDetail.setAttribute("data-bs-target", "#staticBackdropDt");
                return aDetail;
            }

            function buildListUsers() {
                let tableUsers = document.getElementById("tableUsers");
                tableUsers.innerHTML = "";
                let table = document.createElement("table");
                table.className = "table table-striped table-light table-hover";
                let thead = document.createElement("thead");
                thead.className = "fw-bolder";
                let trH = document.createElement("tr");
                let th1 = document.createElement("th");
                th1.innerText = "#";
                th1.scope = "col";
                trH.appendChild(th1);
                for (const item in UsersList[0]) {
                    if (item !== "_id" && item !== "__v") {
                        let th = document.createElement("th");
                        th.innerText = item;
                        th.scope = "col";
                        trH.appendChild(th);
                    }
                }
                let th2 = document.createElement("th");
                th2.innerText = "Buttons";
                th2.scope = "col";
                trH.appendChild(th2);
                thead.appendChild(trH);
                table.appendChild(thead);
                let tbody = document.createElement("tbody");
                for (let i = 0; i < UsersList.length; i++) {
                    let trB = document.createElement("tr");
                    let thB = document.createElement("th");
                    thB.scope = "row";
                    thB.innerText = i + 1;
                    trB.appendChild(thB);

                    let td1 = document.createElement("td");
                    let td2 = document.createElement("td");
                    let td3 = document.createElement("td");
                    let td4 = document.createElement("td");
                    let td5 = document.createElement("td");
                    let td6 = document.createElement("td");
                    let td7 = document.createElement("td");
                    let img = document.createElement("img");
                    img.className = "rounded-circle d-block";
                    img.width = 70;
                    img.alt = "ImgAv";
                    let url = ".." + UsersList[i].ImgAv;
                    img.setAttribute("src", `${url}`);
                    td1.appendChild(img);
                    trB.appendChild(td1);
                    td2.innerText = UsersList[i].FirstName;
                    trB.appendChild(td2);
                    td3.innerText = UsersList[i].LastName;
                    trB.appendChild(td3);
                    td4.innerText = UsersList[i].Login;
                    trB.appendChild(td4);
                    td5.innerText = UsersList[i].Email;
                    trB.appendChild(td5);
                    td6.innerText = UsersList[i].Year;
                    trB.appendChild(td6);
                    let date = new Date(Date.parse(UsersList[i].DateReg));
                    td7.innerText = date.toLocaleDateString();
                    trB.appendChild(td7);
                    let td8 = document.createElement("td");
                    let aEdit = createButtonEdit();
                    aEdit.id = UsersList[i]._id;

                    let aDetail = createButtonDetail();
                    aDetail.id = UsersList[i]._id;

                    let aDelete = createButtonDelete();
                    aDelete.id = UsersList[i]._id;
                    td8.appendChild(aEdit);
                    td8.appendChild(aDetail);
                    td8.appendChild(aDelete)
                    trB.appendChild(td8);
                    tbody.appendChild(trB);
                }
                table.appendChild(tbody);
                tableUsers.appendChild(table);
            }

            function loadUsers() {
                fetch("/api/user")
                    .then(res => res.json())
                    .then(json => {
                        UsersList = json;
                        buildListUsers();
                    })
                    .catch(err => {
                        if (err) console.log(err);
                    });
            };

            loadUsers();

            document.getElementById("btnSend").onclick = function () {
                let form = document.forms.userForm;
                let user = {};
                let pass = "";
                let passConf = "";
                for (let i = 0; i < form.elements.length; i++) {
                    if (form.elements[i].name === "Password") pass = form.elements[i].value;
                    if (form.elements[i].name === "PasswordConfirm") passConf = form.elements[i].value;
                }
                if (pass !== passConf) {
                    alert("Пароли не сходятся, введите пароли снова!");
                } else {
                    for (let i = 0; i < form.elements.length; i++) {
                        if (form.elements[i].name === "ImgAv") {
                            sendImg(user);
                            console.log(user.ImgAv);
                        }
                        if (form.elements[i].name === "Password") {
                            user[form.elements[i].name] = form.elements[i].value;
                            console.log(user.Pass);
                        }
                        if (form.elements[i].name !== "PasswordConfirm") {
                            user[form.elements[i].name] = form.elements[i].value;
                        }
                    }
                    user.DateReg = Date.now();
                    console.log(user);
                    fetch("/api/user", {
                        method: "POST",
                        body: JSON.stringify(user),
                        headers: {'Content-Type': 'application/json'}
                    })
                        .then(res => {
                            if (res.ok) {
                                console.log(res);
                                return res.json();
                            }
                        })
                        .then(json => {
                            if (!Array.isArray(UsersList)) {
                                UsersList = [];
                            }
                            UsersList.push(json);
                            buildListUsers();
                        })
                        .catch(err => {
                            if (err) console.log(err);
                        });
                }
                form.reset();
            };


        </script>
        <!-- ============================================================== -->
        <!-- End Container fluid  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- footer -->
        <!-- ============================================================== -->
        <footer class="footer text-center">
            All Rights Reserved by <b>Mykolka Matios</b>. Designed and Developed by <a
                href="https://nikolaev.itstep.org/?gclid=CjwKCAjwqeWKBhBFEiwABo_XBo9-UJ44YXG7_ba_1A2VxEJLMhCXU808v8AlQRFxceOsWEz3v2_1-xoCfDMQAvD_BwE">ITStepAcademy
            - 2021</a>.
        </footer>
        <!-- ============================================================== -->
        <!-- End footer -->
        <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Page wrapper  -->
    <!-- ============================================================== -->
</div>
<!-- ============================================================== -->
<!-- End Wrapper -->
<!-- ============================================================== -->
<!-- ============================================================== -->
<!-- All Jquery -->
<!-- ============================================================== -->
<script src="../admin/assets/libs/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap tether Core JavaScript -->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>-->
<script src="../admin/assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="../admin/dist/js/app-style-switcher.js"></script>
<!--Wave Effects -->
<script src="../admin/dist/js/waves.js"></script>
<!--Menu sidebar -->
<script src="../admin/dist/js/sidebarmenu.js"></script>
<!--Custom JavaScript -->
<script src="../admin/dist/js/custom.js"></script>
</body>

</html>